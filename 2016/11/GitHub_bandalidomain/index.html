<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>GitHub Pages 绑定来自阿里云的域名 | 共田三皮君</title>
  <meta name="author" content="nonato">
  
  <meta name="description" content="欢迎来到我的个人站~">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="GitHub Pages 绑定来自阿里云的域名"/>
  <meta property="og:site_name" content="共田三皮君"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">

  <link rel="alternate" href="/atom.xml" title="共田三皮君" type="application/atom+xml">

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/print.css" media="print" type="text/css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>

  <script src="/js/scripts.js"></script>

  
  
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config(
    {
      tex2jax: {inlineMath: [['$','$'], ['\(','\)']]},
      TeX: {equationNumbers: {autoNumber: ["AMS"], useLabelIds: true}},
    }
  );
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

  
</head>


<body>
    <div class="container">
      <div class="left-col">
        <div class="intrude-less">
          <header id="header" class="inner">
            <div class="profilepic">
  <script src="/js/md5.js"></script>
  <script type="text/javascript">
    $(function(){
	$('.profilepic').append(
          "<img src='http://www.gravatar.com/avatar/"
          + MD5("")
          + "?s=160' alt='Profile Picture' style='width: 160px;' />");
    });
  </script>
</div><!-- profilepic -->
<h1><a href="/">nonato</a></h1>
<nav id="main-nav">
  <ul class="main">
    
      <li>
      <a href="/about">About</a>
      </li>
    
  </ul>
  
  <section class="aboutme">
    <p>
      欢迎来到我的个人站~
    </p>
  </section>
  
</nav><!-- main-nav -->
<nav id="sub-nav">
  <div class="social">
    
      <a class="google" href="http://plus.google.com/"
         title="Google+">Google+</a>
    
    
      <a class="twitter" href="http://twitter.com/"
         title="Twitter">Twitter</a>
    
    
      <a class="github" href="http://github.com/"
         title="Github">Github</a>
    
    
        <a class="rss" href="/atom.xml" title="RSS">RSS</a>
    
    
      <a class="linkedin" href="http://www.linkedin.com/in/"
        title="Linkedin">Linkedin</a>
      
    
      <a class="facebook" href="http://facebook.com/"
        title="Facebook">Facebook</a>
    
    
      <a class="coderwall" href="http://github.com/"
        title="Coderwall">Coderwall</a>
    
    
      <a class="pinterest" href="http://pinterest.com/"
        title="Pinterest">Pinterest</a>
    
  </div>
</nav><!-- sub-nav -->
<nav id="widget-nav">
  <div class="widgets">
    
      
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/github-domain-cname/">github,domain,cname</a><small>1</small></li>
  
    <li><a href="/tags/iOS/">iOS</a><small>3</small></li>
  
    <li><a href="/tags/python/">python</a><small>1</small></li>
  
    <li><a href="/tags/博客/">博客</a><small>2</small></li>
  
    <li><a href="/tags/工具/">工具</a><small>2</small></li>
  
    <li><a href="/tags/技术/">技术</a><small>2</small></li>
  
    <li><a href="/tags/机器学习/">机器学习</a><small>2</small></li>
  
  </ul>
</div>


    
  </div>
</nav><!-- widget-nav -->

          <header>
        </div><!-- intrude-less -->
      </div><!-- left-col -->
      <div class="mid-col">
        <div class="mid-col-container">
	    <div id="content" class="inner"><article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
	<div class="meta">
          
<div class="date">

<time datetime="2016-11-22T07:19:20.000Z"
      
      data-updated="true"
       itemprop="datePublished">
  2016-11-22
</time>





</div>

          
          
<div class="print">Beitrag ausdrucken</div>

          
	</div>
        <h1 class="title" itemprop="name">GitHub Pages 绑定来自阿里云的域名</h1>
      	<div class="entry-content" itemprop="articleBody"><h1 id="GitHub-Pages-绑定来自阿里云的域名"><a href="#GitHub-Pages-绑定来自阿里云的域名" class="headerlink" title="GitHub Pages 绑定来自阿里云的域名"></a>GitHub Pages 绑定来自阿里云的域名</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>我在阿里云上注册了一个新域名：<a href="http://whenbar.com" target="_blank" rel="external">whenbar.com</a>，我已经在GitHub Pages上建立了自己的博客：<a href="http://natoto.github.io">natoto.github.io</a>。现在我希望将<code>whenbar.com</code>映射到<code>natoto.github.io</code>。主要参考资料：</p>
<ol>
<li><a href="https://help.github.com/articles/setting-up-a-custom-domain-with-github-pages/" target="_blank" rel="external">Setting up a custom domain with GitHub Pages</a></li>
<li><a href="http://blog.csdn.net/renfufei/article/details/37725057" target="_blank" rel="external">创建GitHub技术博客全攻略</a> - 第九部分：CNAME绑定域名</li>
<li><a href="http://blog.fens.me/hexo-blog-github/" target="_blank" rel="external">Hexo在github上构建免费的Web应用</a> - 第4.3节：设置域名</li>
</ol>
<h2 id="第一步：创建CNAME"><a href="#第一步：创建CNAME" class="headerlink" title="第一步：创建CNAME"></a>第一步：创建CNAME</h2><p><a href="https://help.github.com/articles/adding-or-removing-a-custom-domain-for-your-github-pages-site/" target="_blank" rel="external">相关设置参考github说明</a></p>
<p>最新github 不一定要手动创建CNAME文件，做个设置就好了并更新上也可以</p>
<p>第一步的目的是，Github读取你的CNAME之后，Github服务器会设置<code>whenbar.com</code>为你的主域名，然后将<code>natoto.github.io</code>重定向到<code>whenbar.com</code>。</p>
<h2 id="第二步：CNAME绑定域名"><a href="#第二步：CNAME绑定域名" class="headerlink" title="第二步：CNAME绑定域名"></a>第二步：CNAME绑定域名</h2><p>登录<a href="http://dc.aliyun.com/login/loginx" target="_blank" rel="external">阿里云单域名控制台</a>，在<code>域名解析</code>中添加如图所示的解析</p>
<p><img src="/images/posts/hexo-cname@2x.png" alt="域名解析"></p>
<p>默认使用阿里云提供的万网DNS服务器。当然你也可以使用<a href="https://www.dnspod.cn/" target="_blank" rel="external">DNSPOD</a>提供的DNS服务器，这样可以使你的域名在国外更快速的传播。当你使用DNSPOD提供的DNS服务器时，除了DNS服务器不一样以外，其他的设置（比如A记录和CNAME记录）均相同。以下我们简要分析我们所添加的A记录和CNAME记录的含义。</p>
<p>在域名解析中，A记录就是直接指定一个IP，CNAME就是重命名，指向另一个域名。</p>
<ol>
<li>在阿里云控制台，设置主机记录<code>www</code>，记录类型为A，记录值是IP<code>192.30.252.153</code>。其中<code>192.30.252.153</code>是Github Pages服务器指定的IP地址，访问该IP地址即表示访问Github Pages。</li>
<li>在阿里云控制台，设置主机记录<code>www</code>，记录类型为A，记录值是IP<code>192.30.252.154</code>。同上。</li>
<li>在阿里云控制台，设置主机记录<code>@</code>，记录类型为CNAME，记录值是<code>natoto.github.io.</code>。表示将<code>http://whenbar.com</code>这个主域名映射<code>natoto.github.io</code>。在这里千万不要忘记记录值中<code>.io</code>后面还有一个点<code>.</code>！</li>
<li>但是很多时候，我们只想将子域名绑定到博客地址。比如如果你想将<code>blog.maindomain.com</code>（即博客子域名地址，主域名地址是<code>www.maindomain.com</code>）映射到<code>natoto.github.io</code>，那么在主机记录中就应该填写<code>blog</code>，记录类型为CNAME，记录值是<code>natoto.github.io</code>。因为你的主域名已经默认为<code>maindomain.com</code>，所以主域名和主机记录合起来就是<code>blog.maindomain.com</code>。而且这个时候，你github项目的CNAME文件内容也应该相应的改为<code>blog.maindomain.com</code>，因为你是想将<code>natoto.github.io</code>和<code>blog.maindomain.com</code>绑定起来，而不是和<code>www.maindomain.com</code>绑定。</li>
<li>如果你想将<code>www.maindomain.com</code>（即主域名地址）映射到<code>natoto.github.io</code>，那么主机记录就是<code>www</code>,记录类型是A，记录值是具体的IP地址（在我们这个例子中是<code>192.30.252.153</code>、<code>192.30.252.154</code>）。因为你的主域名已经默认为<code>maindomain.com</code>，所以主域名和主机记录合起来就是<code>www.maindomain.com</code>。</li>
</ol>
<p>你可以将多个域名都映射到<code>xxxxx.github.io</code>之类的你自己的站点上，但是需要新建不同内容的CNAME文件。</p>
<p>注意，<code>.me</code>已经是顶级域名（和<code>.com</code>、<code>.org</code>等域名是同一级的），所以需要使用A记录进行域名解析。</p>
<p>第二步的目的是，告诉所有DNS服务器，对于<code>whenbar.com</code>的访问都会被重定向到<code>natoto.github.io</code>。</p>
<h2 id="第三步：漫长的等待"><a href="#第三步：漫长的等待" class="headerlink" title="第三步：漫长的等待"></a>第三步：漫长的等待</h2><p>要全球解析生效，得等上一会了，也可以先ping一下自己的设置对不对。阿里云域名服务的工作原理是，在你更新了域名解析之后，首先是阿里的万网云解析，然后传播到各大运营商的DNS服务器，刷新DNS缓存，至此你的域名可以被访问。</p>
</div>


</article>

  <div class="share">
  <div class="addthis_toolbox addthis_default_style ">
  
  
  <a class="addthis_button_tweet"></a>
  
  
  <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
  
  
  </div>
  <script type="text/javascript">
    var addthis_config = {"data_track_addressbar":true};
  </script>
  <script type="text/javascript"
          src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=null">
  </script>
</div>




</div>
	</div>
        <footer id="footer" class="inner">
          Copyright © 2013 - nonato - Powered by <a href="https://github.com/tommy351/hexo">Hexo</a><br>
- Ported theme <a href="https://github.com/nuklly/hexo-theme-greyshade">GreyShade</a> -
        </footer>
        
<script src="/js/slash.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>







<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>




      </div><!-- mid-col -->
    </div><!-- container -->
</body>
</html>
